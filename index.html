<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Free Layout Seal Creator</title>

<style>
body{
  font-family: Arial, sans-serif;
  display:flex;
  flex-direction:column;
  align-items:center;
  margin:20px;
  background:#f4f4f4;
}

h2{
  margin-bottom:15px;
}

.editor-box{
  width:450px;
  margin-bottom:10px;
}

#textEditor{
  width:100%;
  min-height:150px;
  border:2px solid #ddd;
  border-radius:8px;
  padding:15px;
  font-size:22px;
  background:#fff;
  outline:none;
  white-space:pre-wrap;
}

.controls{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-bottom:10px;
}

button{
  padding:8px 14px;
  border:none;
  border-radius:6px;
  background:#222;
  color:#fff;
  cursor:pointer;
}

#previewBox{
  width:400px;
  height:400px;
  background:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
}

canvas{
  background:transparent;
}
</style>
</head>
<body>

<h2>Premium Free Layout Seal</h2>

<div class="editor-box">
<div contenteditable="true" id="textEditor">
PREMIUM SEAL
CENTER TEXT
OFFICIAL
</div>
</div>

<div class="controls">
<label>Text Color <input type="color" id="textColor" value="#c40000"></label>
<label>Font 
<select id="fontSelect">
<option value="Arial">Arial</option>
<option value="Georgia">Georgia</option>
<option value="Times New Roman">Times New Roman</option>
<option value="Verdana">Verdana</option>
</select>
</label>

<button onclick="alignLeft()">Left</button>
<button onclick="alignCenter()">Center</button>
<button onclick="alignRight()">Right</button>

<label>Background <input type="color" id="bgColor" value="#ffffff"></label>
<label><input type="checkbox" id="transparentPreview" checked> Transparent Preview</label>
<label><input type="checkbox" id="transparentDownload" checked> Transparent Download</label>
</div>

<button onclick="downloadPNG()">Download PNG</button>
<button onclick="downloadJPG()">Download JPG</button>

<div id="previewBox">
<canvas id="canvas" width="400" height="400"></canvas>
</div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

const editor = document.getElementById("textEditor");
const textColor = document.getElementById("textColor");
const fontSelect = document.getElementById("fontSelect");
const bgColor = document.getElementById("bgColor");
const transparentPreview = document.getElementById("transparentPreview");
const transparentDownload = document.getElementById("transparentDownload");

let textAlign = "center";

function draw(){
  if(transparentPreview.checked){
    ctx.clearRect(0,0,canvas.width,canvas.height);
  }else{
    ctx.fillStyle = bgColor.value;
    ctx.fillRect(0,0,canvas.width,canvas.height);
  }

  ctx.fillStyle = textColor.value;
  ctx.font = `bold 28px ${fontSelect.value}`;
  ctx.textAlign = textAlign;
  ctx.textBaseline = "top";

  const lines = editor.innerText.split("\n");
  let y = 50;

  lines.forEach(line=>{
    let x = canvas.width/2;
    if(textAlign === "left") x = 30;
    if(textAlign === "right") x = canvas.width - 30;
    ctx.fillText(line, x, y);
    y += 40;
  });
}

function alignLeft(){
  textAlign = "left";
  editor.style.textAlign = "left";
  draw();
}

function alignCenter(){
  textAlign = "center";
  editor.style.textAlign = "center";
  draw();
}

function alignRight(){
  textAlign = "right";
  editor.style.textAlign = "right";
  draw();
}

[editor, textColor, fontSelect, bgColor, transparentPreview]
.forEach(el=>{
  el.addEventListener("input", draw);
  el.addEventListener("change", draw);
});

function downloadPNG(){
  const tempCanvas = document.createElement("canvas");
  tempCanvas.width = canvas.width;
  tempCanvas.height = canvas.height;
  const tctx = tempCanvas.getContext("2d");

  if(!transparentDownload.checked){
    tctx.fillStyle = bgColor.value;
    tctx.fillRect(0,0,tempCanvas.width,tempCanvas.height);
  }

  tctx.drawImage(canvas,0,0);

  const link = document.createElement("a");
  link.download = "seal.png";
  link.href = tempCanvas.toDataURL("image/png");
  link.click();
}

function downloadJPG(){
  const tempCanvas = document.createElement("canvas");
  tempCanvas.width = canvas.width;
  tempCanvas.height = canvas.height;
  const tctx = tempCanvas.getContext("2d");

  tctx.fillStyle = bgColor.value;
  tctx.fillRect(0,0,tempCanvas.width,tempCanvas.height);
  tctx.drawImage(canvas,0,0);

  const link = document.createElement("a");
  link.download = "seal.jpg";
  link.href = tempCanvas.toDataURL("image/jpeg");
  link.click();
}

draw();
</script>

</body>
</html>
